// js/levels.js (文字敘述修正版)
// 0=空地, 1=哆啦A夢, 2=銅鑼燒, 3=小行星(障礙)
// 4=開關(Switch), 5=雷射門(Gate)

const levels = [
    // ==========================================
    // 第一章：地球 (Earth) - 基礎移動教學
    // ==========================================
    { 
        name: "1-1 地球發射台", 
        theme: "theme-earth", 
        label: "🌍 練習 - 學習移動", 
        maxSteps: 10, 
        hint: "振爲，這一關很簡單！<br>直接按「➡️ 右」就能吃到銅鑼燒囉！", 
        map: [
            [0,0,0,0,0], 
            [0,0,0,0,0], 
            [1,0,0,0,2], 
            [0,0,0,0,0], 
            [0,0,0,0,0]
        ]
    },
    { 
        name: "1-2 繞過衛星", 
        theme: "theme-earth", 
        label: "🌍 練習 - 學習轉彎", 
        maxSteps: 10, 
        hint: "中間有衛星擋住了！<br>我們先「⬇️ 往下」，再「➡️ 往右」避開它！", 
        map: [
            [1,0,0,0,0], 
            [0,0,0,0,0], 
            [0,0,3,0,0], 
            [0,0,0,0,0], 
            [0,0,0,0,2]
        ]
    },
    { 
        name: "1-3 脫離引力", 
        theme: "theme-earth", 
        label: "🌍 練習 - 繞過雲層", 
        maxSteps: 12, 
        hint: "前面有一排雲層(隕石)！<br>要繞一個「ㄇ字型」才能過去喔！", 
        map: [
            [1,0,0,0,0],
            [0,0,0,0,0],
            [3,3,3,3,0], 
            [0,0,0,0,0],
            [0,0,2,0,0] 
        ]
    },

    // ==========================================
    // 第二章：火星 (Mars) - 迴圈 (加倍藥水)
    // ==========================================
    { 
        name: "2-1 漫長旅途", 
        theme: "theme-mars", 
        label: "🔴 挑戰 - 加倍藥水(x3)", 
        maxSteps: 4, 
        hint: "路太遠了，燃料不夠！<br>試試看按下「➡️」之後，再按「✖️3」！", 
        map: [
            [1,0,0,0,0],
            [0,0,0,0,0],
            [0,0,0,0,0],
            [0,0,0,0,0],
            [0,0,0,0,2] 
        ]
    },
    { 
        name: "2-2 蛇行峽谷", 
        theme: "theme-mars", 
        label: "🔴 挑戰 - 橫向 S 型山路", 
        maxSteps: 6, 
        hint: "好多牆壁！我們要走橫的 S 型。<br>記得多用「加倍藥水」才能省燃料喔！", 
        map: [
            [1,0,0,0,0], 
            [3,3,3,3,0], 
            [0,0,0,0,0], 
            [0,3,3,3,3], 
            [2,0,0,0,0]  
        ]
    },
    { 
        name: "2-3 沙塵暴", 
        theme: "theme-mars", 
        label: "🔴 火星 - 尋找缺口", 
        maxSteps: 12, 
        hint: "牆壁中間好像有個洞？<br>我們要往下繞過去，再鑽過那個洞！", 
        map: [
            [0,0,3,2,0],
            [0,0,3,0,0],
            [1,0,3,0,3], 
            [0,0,0,0,0],
            [0,0,0,0,0]
        ]
    },

    // ==========================================
    // 第三章：木星 (Jupiter) - 邏輯 (開關與門)
    // ==========================================
    { 
        name: "3-1 秘密開關", 
        theme: "theme-jupiter", 
        label: "🌪️ 邏輯 - 踩下開關", 
        maxSteps: 10, 
        hint: "門關著(紅色的線)過不去！<br>先去右上角踩開關(🔴)，門就會開囉！", 
        map: [
            [1,0,0,0,4], 
            [3,3,5,3,3], 
            [0,0,0,0,0], 
            [0,0,3,0,0], 
            [0,0,2,0,0]  
        ]
    },
    // ★★★ 這裡修正了：不再叫最終考驗，改為邏輯大考驗 ★★★
    { 
        name: "3-2 邏輯挑戰", 
        theme: "theme-jupiter", 
        label: "🌪️ 木星 - 穿越風暴門", 
        maxSteps: 10, 
        hint: "這是木星的最後一關！<br>往右踩開關，再「往左回來」往下衝過大門！", 
        map: [
            [1,0,0,0,4], 
            [3,3,5,3,3], 
            [0,0,0,0,0], 
            [0,3,3,3,3], 
            [2,0,0,0,0]  
        ]
    },

    // ==========================================
    // 第四章：土星 (Saturn) - 進階綜合挑戰
    // ==========================================
// ★ 4-1 修正：右上角的牆壁(3)拿掉了，現在可以走到終點了！
    { 
        name: "4-1 光環跑道", 
        theme: "theme-saturn", 
        label: "🪐 土星 - 直向 N 型跑道", 
        maxSteps: 6, 
        hint: "這次是直的路線！<br>先「⬇️往下」到底，再往右換跑道爬上去！", 
        map: [
            [1,3,0,0,2], // ★★★ 修正這裡：原本是 [1,3,0,3,2]，現在把牆打通變成 0 了！
            [0,3,0,3,0], 
            [0,3,0,3,0], 
            [0,3,0,3,0], 
            [0,0,0,3,0]  // 缺口在左下方
        ]
    },
    { 
        name: "4-2 衛星迷航", 
        theme: "theme-saturn", 
        label: "🪐 土星 - 泰坦衛星", 
        maxSteps: 14, 
        hint: "右邊的路被封死了！<br>先「⬆️往上」去踩開關，再回來走中間的門！", 
        map: [
            [0,0,4,0,0], 
            [0,3,3,3,3], 
            [1,0,5,0,2], 
            [3,3,3,3,3], 
            [0,0,0,0,0]  
        ]
    },
    // ★★★ 4-3 宇宙大結局 (7x7 超級大蛇迷宮) ★★★
    { 
        name: "4-3 宇宙大結局", 
        theme: "theme-saturn", 
        label: "🏆 最終考驗 - 7x7 巨蛇迷宮", 
        maxSteps: 14, // 步數給多一點，因為路真的很長
        hint: "這張地圖是S型的超長迷宮！<br>往右到底 ➔ 往左踩開關 ➔ 往右穿過門 ➔ 往左吃銅鑼燒！", 
        map: [
            [1,0,0,0,0,0,0], // 1. 起點(左上) -> 往右走到底
            [3,3,3,3,3,3,0], // (牆壁擋住，只能往下)
            [4,0,0,0,0,0,0], // 2. 往左走到底 -> 踩開關(左邊)
            [3,3,3,0,3,3,3], // (牆壁擋住，只能往下)
            [0,0,0,5,0,0,0], // 3. 往右走到底 -> 穿過中間的門
            [3,3,3,3,3,3,0], // (牆壁擋住，只能往下)
            [2,0,0,0,0,0,0]  // 4. 往左走到底 -> 終點(左下)
        ]
    }
];